webpackJsonp([12],{HOAT:function(t,e){},NccL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("4YfN"),i=n.n(s),a=n("9rMa"),o=n("YaEn"),r=(n("dahE"),{name:"scrollBar",data:function(){return{top:0}},methods:{handleScroll:function(t){var e=t.wheelDelta||3*-t.deltaY,n=this.$refs.scrollContainer.offsetHeight,s=this.$refs.scrollWrapper.offsetHeight;e>0?this.top=Math.min(0,this.top+e):n-15<s?this.top<-(s-n+15)?this.top=this.top:this.top=Math.max(this.top+e,n-s-15):this.top=0}}}),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"scrollContainer",staticClass:"scroll-container",on:{wheel:function(e){return e.preventDefault(),t.handleScroll(e)}}},[n("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",style:{top:t.top+"px"}},[t._t("default")],2)])},staticRenderFns:[]};var c=n("vSla")(r,l,!1,function(t){n("HOAT")},"data-v-089ea7a0",null).exports,u={name:"i-menu",data:function(){return{filterRoutes:[],defaultOpeneds:[],tipsVisible:!1,tabsVal:"营销",outputRouter:[],menuJson:[{name:"营销",icon:"i-icon-formdata"},{name:"客户",icon:"i-icon-peoples"},{name:"设计",icon:"i-icon-edit"},{name:"合同",icon:"i-icon-contract"},{name:"工程",icon:"i-icon-team"},{name:"材料",icon:"i-icon-info"},{name:"成控",icon:"i-icon-xiadan"},{name:"报表",icon:"i-icon-echart"},{name:"设置",icon:"i-icon-edits"}],MenuJsons:[{name:"个人资料"},{name:"修改密码"},{name:"清除缓存"},{name:"发送日报"}],menu:[{name:"帮助",icon:"el-icon-service"},{name:"社区",icon:"el-icon-message"},{name:"博客",icon:"el-icon-edit"},{name:"案例",icon:"el-icon-document"}]}},computed:i()({},Object(a.c)(["user"])),methods:{hasPermission:function(t,e){return!e.meta||!e.meta.roles||t.some(function(t){return e.meta.roles.indexOf(t)>=0})},handleRoutes:function(t,e){var n=this;return t.filter(function(t){return!!n.hasPermission(e,t)&&(t.open&&n.defaultOpeneds.push(t.meta),t.children&&t.children.length&&(t.children=n.handleRoutes(t.children,e)),!0)})},handleIndexRoutes:function(){var t=this.handleRoutes(o.b).filter(function(t){return"首页"===t.name})[0];t.children&&(this.filterRoutes=t.children)},hanldeTips:function(){this.tipsVisible=!0},onUserSelected:function(){this.tipsVisible=!1,this.$store.commit("login_out"),this.$router.push("/login")},hasSidebar:function(t){this.$store.state.sidebar.opened=!0;var e=this.filterRoutes;e&&(this.outputRouter=e.filter(function(e){return e.name===t}))}},created:function(){this.handleIndexRoutes(),this.hasSidebar("营销")},components:{ScrollBar:c}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("scroll-bar",[s("el-aside",{staticClass:"sidebar-container",attrs:{id:"menu"}},[s("div",{staticClass:"sticky-nav-bd"},[s("router-link",{staticClass:"logo",attrs:{to:"/"}},[s("img",{attrs:{src:n("fdvV"),alt:""}})]),t._v(" "),s("el-tabs",{staticClass:"el-tabs-container",attrs:{"tab-position":"left"},on:{"tab-click":function(e){t.hasSidebar(t.tabsVal)}},model:{value:t.tabsVal,callback:function(e){t.tabsVal=e},expression:"tabsVal"}},t._l(t.menuJson,function(e,n){return s("el-tab-pane",{key:n,attrs:{name:e.name}},[s("span",{staticClass:"icon-navbar",attrs:{slot:"label"},slot:"label"},[s("i",{class:e.icon}),t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"tabs-hd"},[s("h3",[t._v(t._s(e.name))])]),t._v(" "),s("el-menu",{attrs:{"default-active":t.$route.name,"default-openeds":t.defaultOpeneds}},[s("wl-menu-item",{attrs:{json:t.outputRouter}})],1)],1)})),t._v(" "),s("div",{staticClass:"user"},[s("el-popover",{ref:"onUserselect",attrs:{placement:"right",width:"230",trigger:"click"}},[s("el-menu",[t._l(t.MenuJsons,function(e,n){return s("el-menu-item",{key:n,attrs:{index:e.name}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])}),t._v(" "),s("el-row",{staticClass:"user-menu"},t._l(t.menu,function(e,n){return s("el-col",{key:n,attrs:{span:6}},[s("a",{staticClass:"user-menu-link",attrs:{href:"javascript:void(0);"}},[s("i",{class:e.icon}),t._v(" "),s("span",[t._v(t._s(e.name))])])])})),t._v(" "),s("el-menu-item",{attrs:{index:"a"}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("工作日报")])]),t._v(" "),s("el-menu-item",{attrs:{index:"b"},nativeOn:{click:function(e){return t.hanldeTips(e)}}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("退出登录")])])],2)],1),t._v(" "),s("el-dialog",{attrs:{title:"提示",visible:t.tipsVisible,"append-to-body":"",width:"20%"},on:{"update:visible":function(e){t.tipsVisible=e}}},[s("span",[t._v("确认登出吗？")]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:function(e){t.tipsVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return e.stopPropagation(),t.onUserSelected(e)}}},[t._v("确 定")])],1)]),t._v(" "),s("div",{directives:[{name:"popover",rawName:"v-popover:onUserselect",arg:"onUserselect"}],staticClass:"user-info"},[s("img",{attrs:{src:t.user.headimgurl}})])],1)],1)])],1)},staticRenderFns:[]};var m=n("vSla")(u,d,!1,function(t){n("YHdT")},null,null);e.default=m.exports},YHdT:function(t,e){}});